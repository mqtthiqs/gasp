\begin{figure}
\boxed{
\openscope{\tyenv}{\term}{\listof\adef}
}
\begin{center}
\begin{mathpar}
\infer{
\openscopespine{\tyenv}
               {\type}
               {\term}
               {\emptylist}
               {\listof\adef}
}{
\openscope{\tyenv}{\oftype{\term}{\type}}{\listof\adef}
}

% FIXME: Les \' ne se voient pas tres bien.
\end{mathpar}
\end{center}
\boxed{
\openscopespine{\tyenv}{\type}{\term}{\listof\head}{\listof\adef}
}
\begin{center}
\begin{mathpar}
\infer{
\openscopespine{\tenvdef{\tyenv}{\var}{\head}{\type}}{\typebis}
               {\term}
               {\listof\head}
               {\listof\adef}
}{
\openscopespine{\tyenv}{\typrod{\bind{\var}{\promisse}{\type}}{\typebis}}
               {\tlam{\bind{\var}{\promisse}{\type}}{\term}}
               {\head\listof\head}
               {\xadef{\var}{\head}{\type}\listof\adef}
}

\infer{
}{
\openscopespine{\tyenv}
               {\type}
               {\tlam{\binding}{\term}}
               {\emptylist}
               {\emptylist}
}

\infer{
\openscope{\tyenv}{\tenvlookup{\tyenv}{\var}}{\listof\adef} \\
\openscopespine{\tenvcons{\tyenv}{\listof\adef}}{\type}
               {\term}
               {\listof\head}
               {{\listof\adef}'}
}{
\openscopespine{\tyenv}{\type}
               {\topen{\term}{\var}}
               {\listof\head}
               {\listof\adef{\listof\adef}'}
}

\infer{
\openscopespine{\tenvcons{\tyenv}{\listof\adef}}
               {\type}
               {\term}
               {\listof\head}
               {{\listof{\adef}}'}
}{
\openscopespine{\tyenv}
               {\type}
               {\tdef{\listof\adef}{\term}}
               {\listof\head}
               {\listof\adef {\listof{\adef}}'}
}

\infer{
}{
\openscopespine{\tyenv}{\type}
               {\tapp{\constant}{\listof\head}}
               {{\listof\head}'}
               {\emptylist}
}

\infer{
\tenvlookup{\tyenv}{\var} = \bind{\var}{\promisse}{\type}
}{
\openscopespine{\tyenv}{\type}
               {\tapp{\var}{\listof\head}}
               {{\listof\head}'}
               {\emptylist}
}

\infer{
\tenvlookup{\tyenv}{\var} = (\oftype{\term}{\type}) \\\\
\openscopespine{\tyenv}
               {\type}
               {\term}
               {\listof\head{\listof\head}'}
               {\listof\adef}
}{
  \openscopespine{\tyenv}
                 {\type}
                 {\tapp{\var}{\listof\head}}
                 {{\listof\head}'}
                 {\listof\adef}
}


\end{mathpar}
\end{center}


\caption{Importation of a set of definitions from an object.}
\label{fig:expansion}
\end{figure}
